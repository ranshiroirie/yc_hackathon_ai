# AIé–‹ç™ºãƒãƒ¼ãƒ  å“è³ªä¿è¨¼ãƒ—ãƒ­ã‚»ã‚¹

## ðŸŽ¯ å“è³ªä¿è¨¼ã®å…¨ä½“åƒ

```mermaid
graph TD
    A[ã‚³ãƒ¼ãƒ‰å®Ÿè£…] --> B[è‡ªå‹•ãƒ†ã‚¹ãƒˆ]
    B --> C[é™çš„è§£æž]
    C --> D[AIã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    D --> E[ã‚¯ãƒ­ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    E --> F[ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼]
    F --> G[ãƒžãƒãƒ¼ã‚¸ãƒ£ãƒ¼æ‰¿èª]
    
    B --> B1[Unit Test]
    B --> B2[Integration Test]
    C --> C1[Lint/Format]
    C --> C2[Type Check]
    D --> D1[è¨­è¨ˆæº–æ‹ æ€§]
    D --> D2[ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹]
    
    style A fill:#f9f
    style G fill:#9f9
```

## ðŸ¤– AIã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

### å®Ÿè£…å®Œäº†æ™‚ã®è‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼
```markdown
## AIã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

å®Ÿè£…ãŒå®Œäº†ã—ãŸã®ã§ã€ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚

### ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹
1. **è¨­è¨ˆæº–æ‹ æ€§**
   - [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ã¨ã®æ•´åˆæ€§
   - [ ] APIä»•æ§˜æ›¸ã¨ã®ä¸€è‡´
   - [ ] å‘½åè¦å‰‡ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„æº–æ‹ 

2. **å“è³ªåŸºæº–**
   - [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
   - [ ] ãƒ­ã‚°å‡ºåŠ›é©åˆ‡æ€§
   - [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è€ƒæ…®

3. **ãƒ†ã‚¹ãƒˆ**
   - [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ
   - [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹è€ƒæ…®
   - [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š

### è‡ªå‹•ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
```bash
# Flutter
fvm flutter analyze
fvm flutter test
./scripts/format.sh

# Firebase
npm run lint
npm run test
npm run build

# Supabase
supabase db lint
supabase test db
```

### ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœ
- âœ… é™çš„è§£æž: ã‚¨ãƒ©ãƒ¼0å€‹
- âœ… ãƒ†ã‚¹ãƒˆ: å…¨ãƒ‘ã‚¹
- âš ï¸ ã‚«ãƒãƒ¬ãƒƒã‚¸: 75%ï¼ˆè¦æ”¹å–„ï¼‰
- ðŸ’¡ æ”¹å–„ææ¡ˆ: [å†…å®¹]
```

## ðŸ‘¥ ã‚¯ãƒ­ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

### AIé–“ç›¸äº’ãƒ¬ãƒ“ãƒ¥ãƒ¼
```markdown
## ã‚¯ãƒ­ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼

@[ä»–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆAI]

[ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ]ã®å®Ÿè£…ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚

### ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾è±¡
- PR: #XXX
- å¤‰æ›´å†…å®¹: [æ¦‚è¦]

### é‡ç‚¹ç¢ºèªé …ç›®
1. **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ•´åˆæ€§**
   - APIä»•æ§˜ã¨ã®ä¸€è‡´
   - ãƒ‡ãƒ¼ã‚¿åž‹ã®æ•´åˆæ€§

2. **çµ±åˆè¦³ç‚¹**
   - æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã¸ã®å½±éŸ¿

3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - èªè¨¼ãƒ»èªå¯ã®é©åˆ‡æ€§
   - ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã®ç¶²ç¾…æ€§
```

### ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```markdown
## ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœ: PR #XXX

### ç·è©•
ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆã¯é©åˆ‡ã§ã™ãŒã€ã„ãã¤ã‹æ”¹å–„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

### ðŸš¨ Criticalï¼ˆå¿…é ˆä¿®æ­£ï¼‰
ãªã—

### âš ï¸ Majorï¼ˆå¼·ãæŽ¨å¥¨ï¼‰
1. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä¸è¶³**
   ```diff
   - return data;
   + try {
   +   return data;
   + } catch (e) {
   +   throw new APIError('Failed to fetch data', e);
   + }
   ```

### ðŸ’¡ Minorï¼ˆææ¡ˆï¼‰
1. **åž‹å®šç¾©ã®æ˜Žç¢ºåŒ–**
   - `any`åž‹ã‚’å…·ä½“çš„ãªåž‹ã«å¤‰æ›´ã‚’æŽ¨å¥¨

### âœ… Good Points
- Clean Architectureæº–æ‹ 
- é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆ

æ‰¿èªæ¡ä»¶: Majoré …ç›®ã®å¯¾å¿œ
```

## ðŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼

### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“è¦³ç‚¹ã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼
```markdown
## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### è¨­è¨ˆåŽŸå‰‡
- [ ] å˜ä¸€è²¬ä»»åŽŸå‰‡ï¼ˆSRPï¼‰
- [ ] é–‹æ”¾é–‰éŽ–åŽŸå‰‡ï¼ˆOCPï¼‰
- [ ] ä¾å­˜æ€§é€†è»¢åŽŸå‰‡ï¼ˆDIPï¼‰
- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢åŽŸå‰‡ï¼ˆISPï¼‰

### ã‚¯ãƒ­ã‚¹ã‚«ãƒƒãƒ†ã‚£ãƒ³ã‚°
- [ ] ãƒ­ã‚°æˆ¦ç•¥ã®ä¸€è²«æ€§
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³çµ±ä¸€
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼æº–æ‹ 
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åŸºæº–é”æˆ

### ä¿å®ˆæ€§
- [ ] ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§
- [ ] ãƒ†ã‚¹ãƒˆã®ä¿å®ˆæ€§
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å……å®Ÿåº¦
- [ ] å°†æ¥ã®æ‹¡å¼µæ€§è€ƒæ…®
```

## ðŸ“Š å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹è‡ªå‹•åŽé›†

### ã‚³ãƒ¼ãƒ‰å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹
```typescript
interface CodeQualityMetrics {
  static: {
    lintErrors: number;        // 0ç›®æ¨™
    lintWarnings: number;      // æœ€å°åŒ–
    typeErrors: number;        // 0å¿…é ˆ
    complexity: number;        // å¾ªç’°çš„è¤‡é›‘åº¦
  };
  test: {
    coverage: number;          // 80%ä»¥ä¸Š
    passRate: number;          // 100%å¿…é ˆ
    executionTime: number;     // å¦¥å½“ãªæ™‚é–“å†…
  };
  documentation: {
    commentCoverage: number;   // é‡è¦éƒ¨åˆ†ã‚«ãƒãƒ¼
    apiDocCompleteness: number; // 100%ç›®æ¨™
  };
}
```

### è‡ªå‹•åŽé›†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
#!/bin/bash
# quality-metrics.sh

echo "=== Code Quality Metrics Collection ==="

# Flutter metrics
echo "## Flutter App"
cd flutter-app
fvm flutter analyze --no-fatal-infos | grep -E "error|warning|info" | wc -l
fvm flutter test --coverage
lcov --summary coverage/lcov.info

# Firebase metrics  
echo "## Firebase Functions"
cd ../firebase/functions
npm run lint -- --format json > lint-report.json
npm test -- --coverage --json > test-report.json

# Supabase metrics
echo "## Supabase"
cd ../../supabase
supabase db lint
supabase test db --json > db-test-report.json

# Aggregate results
echo "=== Summary ==="
# ... é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯
```

## ðŸ”„ ç¶™ç¶šçš„å“è³ªæ”¹å–„

### å“è³ªæ”¹å–„ã‚µã‚¤ã‚¯ãƒ«
```mermaid
graph LR
    A[ãƒ¡ãƒˆãƒªã‚¯ã‚¹åŽé›†] --> B[åˆ†æž]
    B --> C[æ”¹å–„æ¡ˆç­–å®š]
    C --> D[å®Ÿæ–½]
    D --> E[åŠ¹æžœæ¸¬å®š]
    E --> A
    
    B --> F[AIå­¦ç¿’]
    F --> G[ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ”¹å–„]
    G --> C
```

### é€±æ¬¡å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼
```markdown
## é€±æ¬¡å“è³ªãƒ¬ãƒãƒ¼ãƒˆ

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚µãƒžãƒªãƒ¼
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | Lint Error | Test Coverage | Build Time |
|--------------|-----------|---------------|------------|
| Flutter      | 0         | 85%          | 2m 30s     |
| Firebase     | 0         | 78%          | 45s        |
| Supabase     | 0         | 82%          | 30s        |

### å“è³ªãƒˆãƒ¬ãƒ³ãƒ‰
- ã‚¨ãƒ©ãƒ¼çŽ‡: â†“ 20%æ”¹å–„
- ã‚«ãƒãƒ¬ãƒƒã‚¸: â†‘ 5%å‘ä¸Š
- ãƒ“ãƒ«ãƒ‰æ™‚é–“: â†’ å¤‰åŒ–ãªã—

### æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
1. **Firebase ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š**
   - æ‹…å½“: @firebase-engineer
   - ç›®æ¨™: 85%ä»¥ä¸Š
   - æœŸé™: æ¥é€±

2. **ãƒ“ãƒ«ãƒ‰æ™‚é–“æœ€é©åŒ–**
   - æ‹…å½“: @system-architect
   - æ–½ç­–: ä¸¦åˆ—åŒ–ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ”¹å–„
```

## ðŸš€ è‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### GitHub Actionså“è³ªãƒã‚§ãƒƒã‚¯
```yaml
name: AI Team Quality Check

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Environment
        run: |
          # Flutter/Node/Supabase setup
          
      - name: Run Quality Checks
        run: |
          ./scripts/quality-metrics.sh
          
      - name: Generate Report
        run: |
          python scripts/generate-quality-report.py
          
      - name: Comment on PR
        uses: actions/github-script@v6
        with:
          script: |
            const report = require('./quality-report.json');
            const comment = formatQualityReport(report);
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });
            
      - name: Update Linear
        run: |
          # Linear MCPã§å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹æ›´æ–°
```

### å“è³ªã‚²ãƒ¼ãƒˆè¨­å®š
```typescript
const qualityGates = {
  mandatory: {
    lintErrors: 0,
    testsPassing: true,
    buildSuccess: true,
  },
  recommended: {
    testCoverage: 80,
    complexityScore: 10,
    documentationCoverage: 70,
  },
  goals: {
    testCoverage: 90,
    performanceScore: 95,
    securityScore: 100,
  }
};

// å“è³ªã‚²ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
function checkQualityGates(metrics: QualityMetrics): QualityResult {
  const results = {
    passed: true,
    mandatory: [],
    warnings: [],
    suggestions: [],
  };
  
  // Mandatory checks
  if (metrics.lintErrors > qualityGates.mandatory.lintErrors) {
    results.passed = false;
    results.mandatory.push('Lint errors must be fixed');
  }
  
  // Recommended checks
  if (metrics.testCoverage < qualityGates.recommended.testCoverage) {
    results.warnings.push(`Test coverage ${metrics.testCoverage}% is below recommended ${qualityGates.recommended.testCoverage}%`);
  }
  
  return results;
}
```

---

**å“è³ªä¿è¨¼æ–¹é‡**: è‡ªå‹•åŒ–ã‚’æœ€å¤§é™æ´»ç”¨ã—ã€AIã«ã‚ˆã‚‹ã‚»ãƒ«ãƒ•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ã‚¯ãƒ­ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§å“è³ªã‚’æ‹…ä¿ã€‚äººé–“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯æˆ¦ç•¥çš„ãªè¦³ç‚¹ã«é›†ä¸­ã—ã€åŠ¹çŽ‡çš„ãªå“è³ªç®¡ç†ã‚’å®Ÿç¾ã—ã¾ã™ã€‚