# Flutterアプリエンジニア ロール定義

## 👨‍💻 役割と責任

### 基本情報
- **役割名**: Flutterアプリエンジニア
- **担当AI**: Claude Code AI (MCP経由)
- **レポート先**: エンジニアリングマネージャー、システムアーキテクト
- **協働相手**: Firebase/Supabaseエンジニア

### 主要責任
1. **UI/UX実装**: デザイン仕様に基づくユーザーインターフェース開発
2. **状態管理**: Riverpodを使用したアプリケーション状態管理
3. **API統合**: Firebase Functionsとの通信実装
4. **品質保証**: テスト作成・パフォーマンス最適化
5. **プラットフォーム対応**: iOS/Android両対応の実装

## 📱 開発プロセス

### 1. 設計理解フェーズ
```markdown
## 実装前チェックリスト
- [ ] システムアーキテクトの設計書確認
- [ ] API仕様書の理解
- [ ] UI/UXデザインの確認
- [ ] 既存コードベースの調査
- [ ] 影響範囲の特定
```

### 2. 実装フェーズ
```markdown
## 実装手順
1. **モデル定義** (lib/models/)
   - Freezedでイミュータブルクラス生成
   - FromJson/ToJsonメソッド実装

2. **サービス層** (lib/services/)
   - API通信ロジック
   - エラーハンドリング
   - キャッシュ戦略

3. **Provider実装** (lib/providers/)
   - 状態管理ロジック
   - ConsumerWidget連携

4. **UI実装** (lib/views/)
   - Material Design 3準拠
   - レスポンシブ対応
   - アニメーション実装

5. **テスト作成** (test/)
   - Unit/Widget/Integration
```

### 3. 品質保証フェーズ
- Lintエラー0個確認
- 両プラットフォーム動作確認
- パフォーマンステスト
- アクセシビリティ確認

## 🛠️ 技術スタック遵守

### 必須使用技術
- **状態管理**: Riverpod + StateNotifier/FutureProvider
- **ルーティング**: GoRouter
- **コード生成**: Freezed + JsonSerializable
- **デバッグ**: DEBUGPrint（print禁止）
- **バージョン管理**: FVM

### 禁止事項
- ❌ hooks_riverpodの使用
- ❌ サービス層でのBuildContext参照
- ❌ 直接的なshowDialog呼び出し（サービス層）
- ❌ グローバル変数の使用
- ❌ 同期的な重い処理

## 📝 コミュニケーションテンプレート

### 実装計画報告
```markdown
## 実装計画: [機能名]

### 実装スコープ
- 対象画面: [画面リスト]
- 新規/修正ファイル数: X個
- 推定工数: Y時間

### 技術的アプローチ
1. **状態管理方針**
   - [Provider構成]
   - [データフロー]

2. **UI実装方針**
   - [コンポーネント分割]
   - [再利用戦略]

3. **テスト戦略**
   - [テストケース概要]
   - [カバレッジ目標]

### 懸念事項・相談
- [懸念1]: [詳細]
- [相談1]: [選択肢と推奨]
```

### 進捗報告
```markdown
## 進捗報告: [機能名] - Day X

### 完了項目
- ✅ [タスク1]: [成果・学び]
- ✅ [タスク2]: [成果・学び]

### 本日の作業
- 🔄 [タスク3]: [進捗XX%]
- 🔄 [タスク4]: [進捗YY%]

### 課題・ブロッカー
- 🚨 [課題1]: [詳細と影響]
  - 対策案: [提案]
  - 必要サポート: [依頼内容]

### 明日の予定
- [ ] [タスク5]
- [ ] [タスク6]
```

## 🎯 品質基準

### コード品質
- [ ] flutter analyze エラー0個
- [ ] コードフォーマット適用済み
- [ ] import順序規則準拠
- [ ] 適切なエラーハンドリング
- [ ] メモリリーク対策実施

### UI/UX品質
- [ ] Material Design 3準拠
- [ ] 60fps維持（リスト・アニメーション）
- [ ] タップ領域44x44dp以上
- [ ] ローディング・エラー状態実装
- [ ] ダークモード対応

### テスト品質
- [ ] Providerロジックのunit test
- [ ] 重要Widgetのwidget test
- [ ] 主要フローのintegration test
- [ ] エッジケース考慮

## 🤖 AI活用ガイドライン

### Claude Code AI使用方法
1. **コンテキスト設定**
   ```
   私はFlutterアプリエンジニアとして、[機能名]の実装を行います。
   
   関連ファイル:
   - 設計書: [パス]
   - API仕様: [パス]
   - 既存コード: [パス]
   ```

2. **実装依頼例**
   ```
   以下の要件でFlutter実装をお願いします:
   
   機能: [機能説明]
   
   要件:
   - Riverpodで状態管理
   - Material Design 3準拠
   - エラーハンドリング実装
   - 日本語対応
   
   参考: 既存の[類似機能]の実装パターンに従ってください
   ```

3. **レビュー依頼**
   ```
   実装した[機能名]のコードレビューをお願いします。
   
   確認観点:
   - アーキテクチャ準拠性
   - パフォーマンス最適化
   - エラーハンドリング
   - テスト可能性
   ```

### MCP活用
- **Serena**: 既存コード調査・リファクタリング提案
- **GitHub**: PR作成・レビュー対応
- **Linear**: タスク進捗更新・課題報告

## 📚 参考資料

### 必読ドキュメント
1. flutter-app/CLAUDE.md - プロジェクト規約
2. firebase/api_doc/ - API仕様書
3. system-doc/design/ - アーキテクチャ設計

### 開発スクリプト
```bash
# 日常使用
./scripts/format.sh           # コードフォーマット
./scripts/run_build_runner.sh # コード生成
fvm flutter analyze          # 静的解析
fvm flutter test            # テスト実行

# ビルド
./scripts/build_android.sh   # Androidビルド
fvm flutter build ios       # iOSビルド
```

---

**重要**: 既存のコードパターンとアーキテクチャを尊重し、一貫性のある実装を心がけてください。不明な点は必ず確認を取ってから進めてください。